<!-- Overlay do menu -->
<div class="menu-overlay" [class.visible]="isOpen" (click)="closeMenu()"></div>

<!-- Sidebar Menu -->
<nav class="sidebar-menu" [class.open]="isOpen">
  <!-- Cabeçalho -->
  <div class="header-container">
    <div class="header-content">
      <div class="logo-container">
        <img [src]="'/public/logos/museu-computacao-azul-facom.png'" alt="Logo Museu da Computação">
      </div>
      <div class="header-text">
        <div class="university-name">
          <a [routerLink]="">Universidade Federal de <br> Uberlândia</a>
        </div>
        <div class="ministry-name">Ministério da Educação</div>
      </div>
    </div>
    <button class="menu-close-button" (click)="closeMenu()">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <!-- Corpo do Menu -->
  <div class="menu-body">
    <nav class="menu-nav">
      <ng-container *ngFor="let item of list">
        <!-- Item sem filhos -->
        <ng-container *ngIf="!item.children?.length">
          <!-- Interno -->
          <a *ngIf="!item.external"
             [routerLink]="item.url"
             [routerLinkActive]="'active'"
             class="menu-item"
             (click)="closeMenu()">
            <span class="menu-icon"><i [class]="item.icon"></i></span>
            <span class="menu-item-label">{{ item.label }}</span>
          </a>

          <!-- Externo -->
          <a *ngIf="item.external"
             [href]="item.url"
             class="menu-item"
             target="_blank"
             rel="noopener noreferrer"
             (click)="closeMenu()">
            <span class="menu-icon"><i [class]="item.icon"></i></span>
            <span class="menu-item-label">{{ item.label }}</span>
          </a>
        </ng-container>

        <!-- Item com submenu -->
        <div *ngIf="item.children?.length" class="menu-folder">
          <div class="menu-item" (click)="toggleSubmenu(item)">
            <span class="menu-icon"><i [class]="item.icon"></i></span>
            <span class="menu-item-label">{{ item.label }}</span>
            <span class="menu-arrow">
              <i class="fas" [class.fa-angle-down]="!item.expanded" [class.fa-angle-up]="item.expanded"></i>
            </span>
          </div>

          <!-- Submenu -->
          <div class="menu-subitems" [class.is-active]="item.expanded">
            <ng-container *ngFor="let subItem of item.children">
              <!-- Interno -->
              <a *ngIf="!subItem.external"
                 [routerLink]="subItem.url"
                 [routerLinkActive]="'active'"
                 class="menu-item"
                 (click)="closeMenu()">
                <i [class]="subItem.icon"></i>
                <span class="menu-item-label">{{ subItem.label }}</span>
              </a>

              <!-- Externo -->
              <a *ngIf="subItem.external"
                 [href]="subItem.url"
                 class="menu-item"
                 target="_blank"
                 rel="noopener noreferrer"
                 (click)="closeMenu()">
                <i [class]="subItem.icon"></i>
                <span class="menu-item-label">{{ subItem.label }}</span>
              </a>
            </ng-container>
          </div>
        </div>
      </ng-container>
    </nav>
  </div>

  <!-- Rodapé do Menu: Redes Sociais -->
  <div class="menu-bottom-section">
    <p class="social-title">Redes Sociais</p>
    <div class="social-links">
      <a target="_blank" href="https://www.youtube.com/@CanaldaUFU" aria-label="Youtube" title="Youtube">
        <i class="fab fa-youtube"></i>
      </a>
      <a target="_blank" href="https://www.facebook.com/ComunicacaoUfu" aria-label="Facebook" title="Facebook">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a target="_blank" href="https://www.instagram.com/ufu_oficial/" aria-label="Instagram" title="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
      <a target="_blank" href="https://x.com/UFU_Oficial" aria-label="Twitter" title="Twitter">
        <i class="fab fa-x-twitter"></i>
      </a>
      <a target="_blank" href="https://www.linkedin.com/school/ufuoficial/posts/?feedView=all" aria-label="Linkedin" title="Linkedin">
        <i class="fab fa-linkedin-in"></i>
      </a>
      <a target="_blank" href="https://www.tiktok.com/@ufuoficial" aria-label="TikTok" title="TikTok">
        <i class="fab fa-tiktok"></i>
      </a>
      <a target="_blank" href="https://t.me/comunicacienciaufu" aria-label="Telegram" title="Telegram">
        <i class="fab fa-telegram"></i>
      </a>
    </div>
  </div>
</nav>
